{% extends 'home/consignes.html.twig' %}
{% block consignes %}
    <div class="row">
        <div class="col-12 col-md-8 offset-md-2 consignes--confirmed">
            {% apply markdown_to_html %}
                ## <u>Objectif 1 (environ 1h)</u>
                1. Tu devras créer un nouveau crud sur une nouvelle entité : **Catégorie**
                Caractéristique de l'entité:
                * Une Catégorie peut avoir plusieurs articles, mais un article est lié à une seule catégorie.
                * Une date de création.
                * Une date de modification.
                * Un intitulé.
                2. Il faudra créer la nouvelle entité et les fichiers qui vont avec en suivant le pattern d'écriture que nous utilisons.
                3. Il faudra créer des fixtures de Catégories (15 catégories avec des noms générés aléatoirement).

                ---
                ## <u>Objectif 2 (environ 2h)</u>
                Dans le fichier CategorieController.php il faudra implémenter:
                1. Une vue qui rend sous forme de tableau <a href="https://symfonycasts.com/screencast/doctrine-relations/pagination" target="_blank">paginé</a> (limite par page: 10)
                2. Une vue qui permet de créer une nouvelle catégorie
                3. Une vue qui permet la modification d'une catégorie
                4. Sur la vue qui rend le <a href="{{ path('consignes_examples')}}" data-no-swup target="_blank">tableau paginé</a> je souhaite sur la ligne du tableau voir les informations suivantes :
                - Nom de la catégorie
                - Nombre d'articles liés à la catégorie.
                - Je souhaite aussi avoir deux boutons :
                - Editer une catégorie. (il faudra utiliser la vue précédement crée)
                - Supprimer une catégorie. (il faudra créer la logique de suppression)

                5. Dans la méthode qui permet la suppression d'une catégorie, je souhaite avoir une vérification. S'il n'y a pas d'articles liés à une catégorie alors il est possible de la supprimer. S'il y a, un ou plusieurs articles lié à cette catégorie alors la suppression ne se fait pas et je souhaite avoir un message d'erreur (flashBag) qui mentionne ceci :

                <div class="alert alert-danger" role="alert">
                La catégorie ne peut pas être supprimée, car un ou plusieurs articles sont liés à celle-ci.
                </div>

                Dans la mesure du possible, il faudra mutualiser les méthodes.
                La vue liste doit se trouver sur cette url : <a href="http://localhost:8088/categorie/liste" data-no-swup target="_blank">http://localhost:8088/categorie/liste</a>
            {% endapply %}
        </div>
    </div>
{% endblock %}
